
## Objetivos

- Crear scripts de shell básicos.
- Usar variables, expresiones aritméticas y condicionales.
- Implementar bucles (`for`, `while`, `until`) en scripts.
- Manejar salidas y ejecutar scripts correctamente.

---
## 1. Introducción

Un script de shell es simplemente un archivo de texto con comandos que serán ejecutados por un intérprete, usualmente Bash. Estos scripts permiten automatizar tareas repetitivas y pueden sustituir el uso manual de comandos.

---
## 2. Estructura básica de un script

Un script comienza con una línea especial llamada **shebang**:

```bash
#!/bin/bash
```

Ejemplo de script básico (`saludo.sh`):

```bash
#!/bin/bash
echo "Hola desde un script. La hora actual es: "
date +%H:%M
```

### Dar permisos y ejecutarlo:

```bash
chmod +x saludo.sh
./saludo.sh
```

También se puede ejecutar con Bash directamente:

```bash
bash saludo.sh
```

---

## 3. Variables

```bash
MENSAJE="Bienvenido"
echo $MENSAJE
```

No se deben poner espacios alrededor del signo `=`.

---

## 4. Expresiones aritméticas

Bash permite cálculos sencillos:

```bash
VAL1=10
VAL2=5
SUMA=$(($VAL1 + $VAL2))
echo "La suma es: $SUMA"
```

También puedes usar `expr`:

```bash
SUMA=`expr $VAL1 + $VAL2`
```

---

## 5. Condicionales (`if`, `test`, `&&`, `||`)

### Usando `if`:

```bash
if [ -x /bin/bash ]; then
  echo "Confirmed: /bin/bash is executable."
else
  echo "No, /bin/bash is not executable."
fi
```

### Usando operadores:

```bash
apt update && echo "Actualización completada"
rm archivo.txt || echo "Archivo no encontrado"
```

---
## 6. Bucles

### Bucle `for`

```bash
for i in 1 2 3
do
  echo "Número: $i"
done
```

### Bucle `while`

```bash
i=1
while [ $i -le 3 ]
do
  echo "Contando: $i"
  i=$((i+1))
done
```

### Bucle `until`

```bash
i=1
until [ $i -gt 3 ]
do
  echo "Contando hacia el límite: $i"
  i=$((i+1))
done
```

---

## 7. Ejemplo de script más elaborado

Un script de respaldo simple que sincroniza carpetas desde una lista (`~/.sync.list`):

```bash
#!/bin/bash
SRC=$1
DST=$2
LIST=~/.sync.list

for ITEM in $(cat $LIST)
do
  cp -r "$SRC/$ITEM" "$DST"
done
```

Uso:

```bash
./sync.sh /home/usuario /mnt/backup
```

---
## Ejercicios guiados

### 1. Script que imprima los números pares del 1 al 10:

```bash
#!/bin/bash
for i in {1..10}
do
  if [ $(($i % 2)) -eq 0 ]; then
    echo "$i es par"
  fi
done
```

### 2. Script que reciba un nombre y lo salude:

```bash
#!/bin/bash
read -p "¿Cómo te llamas? " NOMBRE
echo "Hola, $NOMBRE"
```

### 3. Script que verifique si existe un archivo:

```bash
#!/bin/bash
read -p "Introduce el nombre del archivo: " ARCHIVO
if [ -f "$ARCHIVO" ]; then
  echo "Existe"
else
  echo "No existe"
fi
```