
## Objetivos

- Comprender los diferentes tipos de shell y sus modos de inicio.
- Asignar y utilizar variables de shell locales y de entorno.
- Crear alias personalizados para comandos.
- Definir funciones básicas en Bash.
- Aplicar conocimientos en ejercicios prácticos.

---

## 1. Tipos de shell

Los shells en Linux pueden clasificarse según dos ejes:
### Shells interactivos vs. no interactivos

- **Interactivo**: espera entrada del usuario (ej. terminal).
- **No interactivo**: se ejecuta automáticamente, como scripts.

### Shells de inicio de sesión vs. sin inicio

- **Inicio de sesión**: se inicia al loguearse (ej. con `ssh` o `Ctrl+Alt+F1`).
- **Sin inicio**: se abre dentro de una sesión ya iniciada (ej. una nueva terminal gráfica).

### Archivos de inicio comunes

|Tipo de Shell|Archivos de inicio|
|---|---|
|Interactivo con inicio de sesión|`/etc/profile`, `~/.bash_profile`|
|Interactivo sin inicio|`~/.bashrc`|

---

## 2. Variables en Bash

### Asignación y referencia

```bash
distro=zorinos      # Asignación (sin espacios)
echo $distro        # Referencia
```

### Reglas para nombres

- Letras, números, `_` (no puede iniciar con número).
- No se permiten espacios ni caracteres especiales sin comillas adecuadas.

### Variables locales vs. de entorno

- **Locales**: solo existen en el shell actual.
- **De entorno**: heredadas por procesos hijos (se crean con `export`).

```bash
export PATH=$PATH:/nuevo/camino
```

---
## 3. Alias

Un **alias** permite abreviar comandos:

```bash
alias cls='clear'
alias l='ls -l --color=auto'
```

Para listar todos los alias definidos:

```bash
alias
```

### Alias persistentes

Guardar en `~/.bashrc` o usar un archivo separado `~/.bash_aliases` y enlazarlo:

```bash
if [ -f ~/.bash_aliases ]; then
    . ~/.bash_aliases
fi
```

---

## 4. Funciones

Una función permite agrupar comandos:

```bash
function saludar {
    echo "Hola mundo!"
}
```

O con sintaxis alternativa:

```bash
saludar() {
    echo "Hola mundo!"
}
```

### Invocación

```bash
saludar
```

### Funciones persistentes

Agregar en `~/.bashrc` o en otro script de inicio.

---

## 5. Ejercicios Guiados

### 1. Comprobación de tipo de shell

|Comando|Interactivo|Inicio de sesión|`$0`|
|---|---|---|---|
|`gnome-terminal`|Sí|No|`bash`|
|`su - user2`|Sí|Sí|`-bash`|
|`./script.sh`|No|No|`./script.sh`|

### 2. Crear alias que muestre versión de git

```bash
alias git_info='which git; git --version'
```

### 3. Crear alias que imprima usuario y archivos `.ogg` en `~/Music`

```bash
alias logg='echo $USER:; ls -1 ~/Music/*.ogg'
```

---

## 6. Ejercicios de Exploración

### 1. Función que muestre información del entorno (`fyi`)

```bash
fyi() {
    echo "Usuario: $USER"
    echo "Directorio HOME: $HOME"
    echo "Host: $HOSTNAME"
    echo "Sistema: $(uname -o)"
    echo "PATH: $PATH"
    echo "Directorio de correo: $MAIL"
    echo "Chequeo de correo: $MAILCHECK segundos"
    echo "Cantidad de shells abiertos: $(ps -p $$ -o ppid= | wc -l)"
    export PS1="\u@\h-\d> "
}
```

---

## 7. Actividad Final

1. **Crea un alias llamado `trabajo` que imprima tu nombre, fecha y directorio actual.**

```bash
alias trabajo='echo $USER; date; pwd'
```

2. **Define una función llamada `limpiar_tmp` que borre archivos temporales.**

```bash
limpiar_tmp() {
    echo "Borrando archivos en /tmp"
    rm -rf /tmp/*
}
```

3. **Declara una variable local `proyecto` con tu directorio de trabajo y hazla persistente.**

```bash
echo 'proyecto=~/proyecto-final' >> ~/.bashrc
```