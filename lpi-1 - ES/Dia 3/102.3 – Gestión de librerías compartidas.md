
## ğŸ¯ Objetivos

- Comprender quÃ© son las bibliotecas compartidas.
- Identificar bibliotecas requeridas por un programa.
- Configurar rutas de bibliotecas.
- Usar herramientas como `ldd`, `ldconfig`, y `LD_LIBRARY_PATH`.

---

## ğŸ“š Contenido

### ğŸ”¹ 1. Â¿QuÃ© es una biblioteca compartida?

- Son archivos de cÃ³digo compilado reutilizable (funciones, clases) usados por varios programas.
- Se enlazan dinÃ¡micamente: el cÃ³digo no se copia al ejecutable, sino que se carga en tiempo de ejecuciÃ³n.

### ğŸ”¹ 2. EstÃ¡ticas vs Compartidas

|Tipo|CaracterÃ­sticas|
|---|---|
|EstÃ¡tica|Se incorpora al binario. Ocupa mÃ¡s espacio, pero no tiene dependencias externas.|
|Compartida|Se carga en tiempo de ejecuciÃ³n. Menor tamaÃ±o y uso compartido en memoria.|

---

### ğŸ”¹ 3. Convenciones de nombres

Ejemplo de nombre:

```bash
libpthread.so.0
```

Partes:

- `libpthread`: nombre
- `.so`: objeto compartido
- `.0`: versiÃ³n

---

### ğŸ”¹ 4. Ubicaciones comunes

- `/lib`, `/lib64`, `/usr/lib`, `/usr/local/lib`

Para glibc:

```bash
ls -l /lib/x86_64-linux-gnu/libc.so.6
# Enlace simbÃ³lico a libc-2.24.so
```

---

### ğŸ”¹ 5. ConfiguraciÃ³n de rutas

#### Archivos:

- `/etc/ld.so.conf`
- `/etc/ld.so.conf.d/*.conf`

#### Comando:

```bash
sudo ldconfig -v
sudo ldconfig -p | grep libfuse
```

#### Variable temporal:

```bash
export LD_LIBRARY_PATH=/usr/local/mylib
echo $LD_LIBRARY_PATH
unset LD_LIBRARY_PATH
```

---

### ğŸ”¹ 6. Buscar dependencias

#### Con `ldd`:

```bash
ldd /usr/bin/git
ldd /lib/x86_64-linux-gnu/libc.so.6
ldd -u /usr/bin/git  # dependencias no utilizadas
```

#### Con `objdump`:

```bash
objdump -p /bin/bash | grep NEEDED
```

---

## ğŸ§ª Ejercicios Guiados

1. Dividir los componentes de estos archivos:

```bash
linux-vdso.so.1 â†’ linux-vdso, so, 1
libc.so.6       â†’ libc, so, 6
```

2. Crear `mylib.conf` en `/etc/ld.so.conf.d`:

```bash
echo "/opt/lib/mylib" | sudo tee /etc/ld.so.conf.d/mylib.conf
sudo ldconfig
```

3. Ver dependencias de `kill`:

```bash
ldd /bin/kill
```

---

## ğŸ“ Actividad Final

1. Crear una biblioteca simulada en `/opt/libdemo`:

```bash
mkdir -p /opt/libdemo
# Copiar aquÃ­ una .so o crear un enlace simbÃ³lico de prueb
```

2. AÃ±adir esa ruta al sistema:

```bash
echo "/opt/libdemo" | sudo tee /etc/ld.so.conf.d/demo.conf
sudo ldconfig
```

3. Verificar que se reconoce:

```bash
ldconfig -p | grep demo
```