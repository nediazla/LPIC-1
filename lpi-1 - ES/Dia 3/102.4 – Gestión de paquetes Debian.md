
## 🎯 Objetivos

- Comprender cómo funciona la instalación, eliminación y actualización de paquetes .deb.
- Usar herramientas como `dpkg`, `apt-get`, `apt-cache` y `apt-file`.
- Gestionar repositorios y reconfigurar paquetes.

---

## 📚 Contenido

### 🔹 1. dpkg – Herramienta de bajo nivel

- Maneja archivos `.deb` directamente.
- No resuelve automáticamente dependencias.

#### Comandos clave:

```bash
dpkg -i paquete.deb             # Instala un .deb
dpkg -r paquete                  # Elimina un paquete (deja config)
dpkg -P paquete                  # Elimina completamente (con configuración)
dpkg -L paquete                  # Lista archivos instalados por un paquete
dpkg-query -S /ruta/archivo     # Qué paquete instaló ese archivo
dpkg-reconfigure paquete        # Reconfigura un paquete instalado
```

---

### 🔹 2. APT – Herramienta avanzada

- Frontend para `dpkg`.
- Administra repositorios y dependencias.

#### Comandos básicos:

```bash
apt-get update                  # Actualiza la lista de paquetes
apt-get install nombre          # Instala paquete y dependencias
apt-get remove nombre           # Elimina paquete (mantiene configuración)
apt-get purge nombre            # Elimina todo
apt-get upgrade                 # Actualiza todos los paquetes
apt-get install -f              # Repara dependencias rotas
apt-get clean                   # Limpia caché de paquetes
```

#### Para información:

```bash
apt-cache show nombre           # Info de un paquete
apt-cache search cadena         # Búsqueda por nombre o descripció
```

---

### 🔹 3. apt-file – Consultar paquetes sin instalar

Permite buscar archivos dentro de cualquier paquete, esté o no instalado.

#### Comandos:

```bash
apt-file update                 # Actualiza índice de apt-file
apt-file list nombre            # Lista contenido de un paquete
apt-file search archivo         # Encuentra qué paquete contiene un archivo
```

---

### 🔹 4. Configurar repositorios

Archivo principal:

```bash
/etc/apt/sources.list
```

Alternativamente:

```bash
/etc/apt/sources.list.d/*.list
```

Ejemplo de línea para repositorio:

```bash
deb http://deb.debian.org/debian bookworm main contrib non-free
```

---

## 🧪 Ejercicios Guiados

1. Instalar un .deb manualmente:

```bash
sudo dpkg -i paquete.deb
```

2. Ver qué paquete instaló `/usr/bin/unrar`:

```bash
dpkg-query -S /usr/bin/unrar
```

3. Mostrar contenido de `unrar`:

```bash
dpkg -L unrar
```

4. Buscar información de `gimp`:

```bash
apt-cache show gimp
```

5. Usar apt-file para encontrar qué paquete contiene `zzip-io.h`:

```nash
apt-file search zzip-io.h
```

---

## 📝 Actividad Final

1. Descargar un .deb (ej: Google Chrome).
2. Intentar instalarlo con `dpkg -i`.
3. Observar errores de dependencias.
4. Corregir con:

```bash
sudo apt-get install -f
```

5. Usar `apt-file` para buscar el paquete que contiene `/usr/lib/x86_64-linux-gnu/libSDL2.so`.