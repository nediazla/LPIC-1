
## Objetivos

- Comprender el estándar de jerarquía del sistema de archivos (FHS).
- Utilizar comandos para localizar archivos y determinar su ubicación correcta.
- Familiarizarse con herramientas como `find`, `locate`, `updatedb`, `which`, `whereis` y `type`.

---

## Introducción

El estándar **Filesystem Hierarchy Standard (FHS)** organiza el sistema de archivos en Linux para facilitar la interoperabilidad y administración. Este estándar define ubicaciones específicas para archivos y directorios importantes del sistema.

---

## El estándar FHS

|Directorio|Propósito|
|---|---|
|`/`|Raíz del sistema. Contiene todo el resto.|
|`/bin`|Binarios esenciales para todos los usuarios.|
|`/boot`|Archivos de arranque, incluido el kernel.|
|`/dev`|Archivos de dispositivo.|
|`/etc`|Configuraciones específicas del host.|
|`/home`|Directorios personales de los usuarios.|
|`/lib`, `/lib64`|Bibliotecas compartidas esenciales.|
|`/mnt` y `/media`|Puntos de montaje para dispositivos externos.|
|`/opt`|Aplicaciones opcionales.|
|`/tmp`|Archivos temporales.|
|`/usr`|Programas y datos compartidos de solo lectura.|
|`/var`|Datos variables como logs, colas de correo, etc.|

---
## Búsqueda de Archivos

### Comando `find`

Sintaxis general:

```bash
find <ruta> <opciones> <expresión
```

#### Ejemplos útiles:

```bash
# Buscar archivos por nombre
find /home -name "documento.txt"

# Buscar archivos .png (insensible a mayúsculas)
find . -iname "*.png"

# Buscar directorios llamados 'backup'
find . -type d -name "backup"

# Buscar archivos modificados hace 1 día y mayores a 100MB
find . -mtime -1 -size +100M

# Buscar archivos propiedad de 'usuario'
find / -user usuario

# Buscar archivos ejecutables
find / -executable
```

---
### Comando `locate` y `updatedb`

`locate` busca archivos en una base de datos preindexada. Debe actualizarse con `updatedb`.

```bash
# Buscar archivos .jpg
locate -i .jpg

# Contar resultados
locate -c .jpg

# Coincidencias múltiples
locate -A "config" "init"

# Mostrar solo si el archivo existe
locate -e script.sh
```

Actualizar la base de datos:

```bash
sudo updatedb
```

Editar el comportamiento de updatedb:

```bash
sudo nano /etc/updatedb.conf
# Para excluir NTFS: PRUNEFS="ntfs"
```

---

### Comando `which`

Muestra la ruta de un ejecutable:

```bash
which ls
```

---

### Comando `whereis`

Muestra ubicación del binario, manual y código fuente:

```bash
whereis bash
whereis -m ifconfig
```

---

### Comando `type`

Indica si es un comando interno, alias o función:

```bash
type cd
type ls
```

---

## Ejercicios Guiados

1. **Buscar archivos modificados en los últimos 10 días, mayores a 4GB y con permiso de escritura:**

```bash
find . -writable -mtime -10 -size +4G
```

2. **Buscar archivos temporales válidos:**

```bash
find /tmp -type f
```

3. **Buscar archivos de configuración modificados hace una semana:**

```bash
sudo find / -name "*.conf" -mtime 7

```

4. **Localizar archivos que coincidan con varios patrones:**

```bash
locate -A "report" "update"
```

5. **Buscar la página de manual de `ifconfig`:**

```bash
whereis -m ifconfig
```

---

## Actividad Final

### Instrucciones

1. **Localice los siguientes archivos o directorios en su sistema:**
    - Todos los archivos `.log` dentro de `/var`.
    - Archivos mayores a 1GB en `/home`.
    - Ejecutables en `/usr/bin` modificados esta semana.
    - Enlaces simbólicos en `/etc`.
2. **Responda las siguientes preguntas:**
    - ¿Qué comando usaría para buscar todos los archivos con permisos 755?
    - ¿Dónde debería montar un disco externo temporalmente?
    - ¿Qué directorios deben ser excluidos en `updatedb`?

---

## Recursos adicionales

- `man find`
- `man locate`
- `man whereis`
- [FHS Specification](http://refspecs.linuxfoundation.org/fhs.shtml)