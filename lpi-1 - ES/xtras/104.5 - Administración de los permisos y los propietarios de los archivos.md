
## Objetivos

- Entender cómo funciona el sistema de permisos de Linux.
- Consultar y modificar permisos y propietarios de archivos y directorios.
- Aplicar permisos especiales como SUID, SGID y sticky bit.
- Gestionar permisos predeterminados mediante umask.

---

## 1. Introducción

Linux usa un sistema de permisos para proteger los archivos y controlar el acceso entre usuarios. Cada archivo tiene:

- Un **propietario**.
- Un **grupo propietario**.
- Tres niveles de permisos: **usuario (u)**, **grupo (g)** y **otros (o)**.

Se pueden consultar usando:

```bash
ls -l
```

---

## 2. Consultar información sobre archivos y directorios

```bash
ls -lh          # Lista archivos con detalles
ls -ld nombre/  # Muestra permisos del directorio, no su contenido
ls -la          # Muestra también archivos ocultos
```

---

## 3. Comprensión de los permisos

La primera columna del `ls -l` indica:

- Tipo de archivo: `-` archivo, `d` directorio.
- Permisos: `r` leer, `w` escribir, `x` ejecutar.

Ejemplo:

```lua
-rwxr-xr-- 1 user group size fecha nombre
```

Permisos de usuario (`rwx`), grupo (`r-x`), otros (`r--`).

---

## 4. Modificación de permisos

### Modo simbólico:

```bash
chmod u+x archivo.sh
chmod g-w archivo.txt
chmod o=r archivo.log
chmod a+x script.sh
```
### Modo octal:

```bash
chmod 755 archivo
chmod 640 privado.txt
```

---

## 5. Modificación de propiedad

### Cambiar usuario y grupo:

```bash
chown usuario:grupo archivo
```

### Solo usuario:

```bash
chown usuario archivo
```

### Solo grupo:

```bash
chown :grupo archivo
```

---

## 6. Permisos predeterminados (umask)

Para ver la umask actual:

```bash
umask
```

Para cambiarla temporalmente:

```bash
umask 027
```

---

## 7. Permisos especiales

### Bit SUID (4)

Hace que un archivo se ejecute con permisos del propietario:

```bash
chmod u+s archivo
chmod 4755 archivo
```

### Bit SGID (2)

Hace que los archivos creados en un directorio hereden el grupo:

```bash
chmod g+s directorio
chmod 2755 directorio
```

### Bit Sticky (1)

Restringe la eliminación de archivos en directorios compartidos como `/tmp`:

```bash
chmod +t directorio
chmod 1755 directorio
```

---

## 8. Ejercicios Guiados

1. **Crear un directorio y ver sus permisos:**

```bash
mkdir testdir
ls -ld testdir
```

2. **Crear archivo y cambiar permisos:**

```bash
touch archivo
chmod u+x,go-wx archivo
ls -l archivo
```

3. **Establecer permisos octales:**

```bash
chmod 0755 script.sh
```

4. **Cambiar propiedad:**

```bash
chown carol:students archivo
```

5. **Establecer SGID y sticky:**

```bash
chmod 2755 GrupoDir
chmod 1755 SharedDir
```

---

## Actividad Final

Responde:

1. ¿Qué hacen los comandos siguientes?

```bash
chmod 4755 binario
chmod g+s carpeta
chmod +t carpeta
```

2. Crea un directorio llamado `Box` donde:

- Todos los archivos pertenezcan al grupo `users`.
- Solo puedan ser eliminados por sus propietarios.

```bash
mkdir Box
chgrp users Box
chmod 2770 Box
chmod +t Box
```

3. Describe el efecto de `umask 027`. ¿Qué permisos tendría un nuevo archivo creado?