
## Objetivos

- Comprender cómo configurar idioma y zona horaria en sistemas Linux.
- Manipular variables de entorno relacionadas con locales.
- Configurar el sistema para utilizar una codificación compatible.
- Utilizar comandos para visualizar y cambiar la localización del sistema.

---

## 1. Variables de localización

En Linux, las variables de entorno controlan los ajustes regionales:

|Variable|Función principal|
|---|---|
|`LANG`|Idioma y codificación por defecto.|
|`LC_ALL`|Sobrescribe todas las demás variables.|
|`LC_TIME`|Formato de hora y fecha.|
|`LC_NUMERIC`|Formato de números (coma o punto decimal).|
|`LC_MONETARY`|Formato de moneda.|
|`LC_MESSAGES`|Idioma de los mensajes del sistema.|
|`LC_COLLATE`|Ordenación alfabética.|
|`LC_CTYPE`|Clasificación de caracteres.|

Para ver los locales actuales:

```bash
locale
```

---

## 2. Configuración de zona horaria

### Usando `timedatectl` (con `systemd`):

```bash
timedatectl list-timezones | grep Europe
sudo timedatectl set-timezone Europe/Madrid
timedatectl
```

### Sin `systemd` (enlace simbólico):

```bash
sudo ln -sf /usr/share/zoneinfo/Europe/Madrid /etc/localtime
sudo hwclock --systohc
```

Archivo que refleja la zona:

```bash
cat /etc/timezone
```

---

## 3. Configuración de locales

### Comprobación actual:

```bash
locale
```

### Establecer localización temporal:

```bash
LC_ALL=es_ES.UTF-8 date
```

### Establecer locale para la sesión actual:

```bash
export LANG=es_ES.UTF-8
```

### Persistente (por usuario):

```bash
echo 'export LANG=es_ES.UTF-8' >> ~/.bash_profile
```

### Establecer a nivel del sistema:

```bash
sudo localectl set-locale LANG=es_ES.UTF-8
```

Archivo de configuración del sistema:

```bash
cat /etc/locale.conf
```

---

## 4. Conversión de codificación con `iconv`

Convertir un archivo de UTF-8 a ASCII transliterando caracteres especiales:

```bash
iconv -f UTF-8 -t ASCII//TRANSLIT -o salida.txt entrada.txt
```

---

## Ejercicios guiados

### 1. Mostrar el locale actual

```bash
locale
```

### 2. Cambiar temporalmente la zona horaria a 'Pacific/Auckland'

```bash
TZ='Pacific/Auckland' date
```

### 3. Establecer la zona horaria por defecto (por enlace simbólico)

```bash
sudo ln -sf /usr/share/zoneinfo/Europe/Brussels /etc/localtime
```

### 4. Convertir un archivo de WINDOWS-1252 a UTF-8

```bash
iconv -f WINDOWS-1252 -t UTF-8 -o nuevo.txt viejo.txt
```