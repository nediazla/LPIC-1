
## 🎯 Objetivos

- Comprender cómo se inicia un sistema Linux desde que se enciende el equipo.
- Conocer las diferencias entre BIOS y UEFI.
- Entender el rol del gestor de arranque y el proceso de inicialización del sistema.
- Inspeccionar el proceso de arranque y sus registros.

---
## 📚 Contenido Ampliado

### 🔹 1. Introducción

El arranque de un sistema Linux implica una secuencia de pasos iniciados por el firmware (BIOS/UEFI), seguido por el gestor de arranque, la carga del núcleo (kernel), y la inicialización del sistema.

---
### 🔹 2. BIOS vs UEFI

#### BIOS

- Firmware clásico en PCs.
- Ejecuta el POST.
- Carga el gestor de arranque desde el MBR (primeros 512 bytes del disco).
- No entiende sistemas de archivos complejos.

#### UEFI

- Reemplazo moderno del BIOS.
- Usa NVRAM y partición especial **ESP**.
- Soporta sistemas de archivos FAT y Secure Boot.
- Carga archivos `.efi` como el cargador GRUB desde la ESP.

**Partición ESP**: montada como `/boot/efi`.

---

### 🔹 3. El Cargador de Arranque

**GRUB** es el gestor más utilizado. Muestra un menú de opciones y carga el kernel junto con los parámetros necesarios.

Comando útil para editar temporalmente el arranque:

```text
Presiona 'e' sobre una entrada del GRUB para editar parámetros del kernel.
```

Ejemplos de parámetros:

- `acpi=off` → desactiva la gestión de energía ACPI.
- `init=/bin/bash` → cambia el programa inicial.

---

### 🔹 4. Inicialización del Sistema

- **initramfs** se carga en memoria: contiene controladores y scripts para montar el sistema real.
- Se monta el sistema de archivos real desde `/etc/fstab`.
- Se ejecuta `init` (o `systemd`, `upstart`).

```bash
# Ver el proceso init activo
ps -p 1 -o comm=
```

---

### 🔹 5. Inspección del Proceso de Arranque

Comandos útiles:

```bash
dmesg | less               # mensajes del kernel
journalctl -b             # logs del último arranque (systemd)
ls -l /sbin/init          # ver implementación de init
```

Archivos relacionados:

- `/boot/grub/grub.cfg`
- `/etc/fstab`
- `/etc/systemd/`

---

## 🧪 Ejercicios Propuestos

### ✅ Ejercicio 1: Ver el cargador e init

```bash
ls -l /boot
ls -l /sbin/init
```

### ✅ Ejercicio 2: Ver logs del arranque

```bash
dmesg | grep -i error
journalctl -b
```

### ✅ Ejercicio 3: Inspeccionar parámetros de arranque

```bash
cat /proc/cmdline
```

---

## 📝 Actividad Final

Indique a los alumnos que documenten el proceso de arranque de su sistema en un archivo:

```bash
mkdir informe_arranque
dmesg | head -n 50 > informe_arranque/kernel.txt
cat /proc/cmdline > informe_arranque/parámetros.txt
ls -l /boot > informe_arranque/boot.txt
ps -p 1 -o comm= > informe_arranque/init.txt
```

Y luego:

```bash
tar -czvf informe_arranque.tar.gz informe_arranque/
```