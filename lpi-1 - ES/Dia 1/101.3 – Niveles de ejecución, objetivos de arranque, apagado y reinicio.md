
## ğŸ¯ Objetivos

- Comprender los distintos sistemas de inicializaciÃ³n: SysVinit, systemd y Upstart.
- Cambiar niveles de ejecuciÃ³n u objetivos de arranque.
- Usar comandos para iniciar, detener o reiniciar servicios y el sistema.
- Gestionar el apagado o reinicio de forma segura.

---
## ğŸ“š Contenido

### ğŸ”¹ 1. IntroducciÃ³n

Linux usa demonios (services) para gestionar procesos. Los administradores de servicios definen quÃ© demonios deben ejecutarse segÃºn el propÃ³sito del sistema.

---

### ğŸ”¹ 2. SysVinit

Utiliza **niveles de ejecuciÃ³n** (runlevels) definidos en `/etc/inittab`:

|Nivel|PropÃ³sito|
|---|---|
|0|Apagar|
|1|Usuario Ãºnico (mantenimiento)|
|2-4|Multiusuario (varÃ­a segÃºn distro)|
|5|Multiusuario + entorno grÃ¡fico|
|6|Reinicio|

**Comandos:**

```bash
runlevel
telinit 3
```

Ejemplo de entrada en `/etc/inittab`:

```bash
id:3:initdefault:
```

---
### ğŸ”¹ 3. systemd

systemd reemplaza a SysVinit en la mayorÃ­a de las distros modernas.

Usa **targets** en lugar de runlevels:

|Target|Equivalente|
|---|---|
|runlevel0.target|0 (apagado)|
|runlevel3.target|3|
|graphical.target|5|
|multi-user.target|3|

**Comandos Ãºtiles:**

```bash
systemctl get-default
systemctl set-default multi-user.target
systemctl isolate graphical.target
```

Para reinicio o apagado:

```bash
systemctl reboot
systemctl poweroff
```

---

### ğŸ”¹ 4. Upstart

Sistema en desuso (usado por Ubuntu hasta 2015). Usaba comandos como:

```bash
initctl list
status tty6
start tty6
stop tty6
```

---

### ğŸ”¹ 5. Apagado y Reinicio

**shutdown**: herramienta universal

```bash
shutdown -r now      # Reiniciar inmediatamente
shutdown -h +5       # Apagar en 5 minutos
shutdown -c          # Cancelar apagado
```

**Mensajes a usuarios:**

```bash
shutdown +2 "Se reiniciarÃ¡ el sistema en 2 minutos"
```

---

## ğŸ§ª Ejercicios Guiados

### âœ… Verificar runlevel o target

```bash
runlevel
systemctl get-default
```

### âœ… Cambiar a modo texto (multiusuario)

```bash
systemctl isolate multi-user.target
```

### âœ… Apagar el sistema

```bash
shutdown -h now
systemctl poweroff
```

### âœ… Cancelar apagado

```bash
shutdown -c
```

---

## ğŸ“ Actividad Final

Elabora un script llamado `reinicio_programado.sh` que:

1. Programe el reinicio del sistema en 2 minutos.
2. Notifique al usuario.
3. Permita cancelarlo con un mensaje en pantalla.

Ejemplo:

```bash
#!/bin/bash
echo "Reinicio programado en 2 minutos..."
shutdown -r +2 "El sistema se reiniciarÃ¡. Guarde su trabajo."
echo "Puede cancelar con 'shutdown -c'"
```