
## 🎯 Objetivos

- Comprender los esquemas de particionamiento MBR y GPT.
- Crear, redimensionar, eliminar y recuperar particiones usando `fdisk`, `gdisk` y `parted`.
- Formatear particiones con distintos sistemas de archivos.
- Crear particiones de intercambio y archivos swap.

---

## 1. 📘 Introducción

Antes de poder usar un disco en Linux, este debe ser particionado y formateado con un sistema de archivos. Las herramientas más comunes son:

- `fdisk` para MBR
- `gdisk` para GPT
- `parted` para ambos

Las particiones se montan luego sobre un punto de montaje como `/`, `/home`, `/var`, etcLPI-Learning-Material-1….

---

## 2. 🧱 MBR vs GPT

|Característica|MBR|GPT|
|---|---|---|
|Particiones|Hasta 4 primarias|Hasta 128|
|Tamaño máximo|2 TB|Sin límite práctico|
|Compatibilidad|Antiguos BIOS|UEFI moderno|

Comando para iniciar `fdisk`:

```bash
sudo fdisk /dev/sda
```

Para iniciar `gdisk`:

```bash
sudo gdisk /dev/sda
```

---

## 3. 🛠 Creación de sistemas de archivos

Después de particionar, se debe formatear la partición. Comandos más comunes:

```bash
sudo mkfs.ext4 /dev/sda1
sudo mkfs.xfs /dev/sdb1
sudo mkfs.vfat /dev/sdc1
```

Para verificar tipo de sistema de archivos:

```bash
lsblk -f
```

---

## 4. 🧰 Uso de `parted`

`parted` es interactivo:

```bash
sudo parted /dev/sdb
```

### Crear tabla de particiones:

```bash
(parted) mklabel gpt
```

### Crear partición primaria ext4:

```bash
(parted) mkpart primary ext4 1MiB 1000MiB
```

### Ver particiones:

```bash
(parted) print
```

### Redimensionar partición:

```bash
(parted) resizepart 1 1500MiB
```

### Eliminar partición:

```bash
(parted) rm 1
```

### Recuperar partición:

```bash
(parted) rescue 90m 210m
```

---

## 5. 🌀 Partición de Intercambio (Swap)

Swap puede ser una partición o archivo. Comandos:

### Crear partición de intercambio con `fdisk`:

1. Crear partición con `fdisk`
2. Cambiar tipo:

```bash
t → 82 (Linux swap)
w → escribir cambios
```

### Formatear y activar:

```bash
sudo mkswap /dev/sda3
sudo swapon /dev/sda3
```

### Crear archivo swap:

```bash
sudo dd if=/dev/zero of=/swapfile bs=1M count=1024
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

---

## 🧪 Ejercicios Guiados

1. Crear una tabla de particiones GPT en /dev/sdb:

```bash
sudo parted /dev/sdb
(parted) mklabel gpt
```

2. Crear partición ext4 de 500MB desde 1MB:

```bash
(parted) mkpart primary ext4 1MiB 501MiB
```

3. Crear sistema de archivos en `/dev/sdb1`:

```bash
sudo mkfs.ext4 /dev/sdb1
```

4. Crear partición de intercambio con `parted`:

```bash
(parted) mkpart primary linux-swap 501MiB 1001MiB
```

---

## 🎯 Actividad Final Desarrollada

### Caso: Preparar un disco `/dev/sdc` para instalar un servidor.

#### Instrucciones:

1. Crear tabla de particiones GPT:

```bash
sudo parted /dev/sdc
(parted) mklabel gpt
```

2. Crear partición `/boot` de 512MB:

```bash
(parted) mkpart primary ext4 1MiB 513MiB
```

3. Crear partición raíz `/` de 10GB:

```bash
(parted) mkpart primary ext4 513MiB 10.5GiB
```

4. Crear partición de intercambio de 2GB:

```bash
(parted) mkpart primary linux-swap 10.5GiB 12.5GiB
```

5. Crear sistemas de archivos:

```bash
mkfs.ext4 /dev/sdc1
mkfs.ext4 /dev/sdc2
mkswap /dev/sdc3
```

6. Activar swap:

```bash
swapon /dev/sdc3
```

7. Montar particiones:

```bash
mount /dev/sdc2 /mnt
mkdir /mnt/boot
mount /dev/sdc1 /mnt/boot
```